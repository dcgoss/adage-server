<div ng-if="!queryStatus">
  <h4>
    <b>Experiments with the Highest Range: </b>
  </h4>
  <button class="btn btn-primary" ng-click="setMode()"
          ng-hide="topMode">Show Top {{topNum}}</button>
  <button class="btn btn-primary" ng-click="setMode()"
          ng-show="topMode">Show All</button>

  <br>
  (Click the activity graph to see annotations of samples in this experiement.)
  <table class="table table-striped">
    <tbody>
      <!-- It may seem more intuitive to use:
             <tr ng-repeat="exp in experiments | limitTo: numExpShown">
           but this approach would require re-rendering the vega-lite widget;
           instead we use "$index >= numExpShown" to hide rows of lower range.
         -->
      <tr ng-repeat="exp in experiments" ng-show="$index < numExpShown">
        <td>
          <b>{{$index + 1}}. {{exp.accession}}: </b>{{exp.name}}
          <!-- vega-lite widget. If it is clicked, go to sample annotations
               page. -->
          <a ui-sref="sampleAnnotation(
                      {signature: signatureId, samples: exp.sample_set.join()}
                      )">
            <div id="{{ 'exp-' + $index }}"></div>
          </a>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div ng-bind="queryStatus"></div>
